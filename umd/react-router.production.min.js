"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("history")):"function"==typeof define&&define.amd?define(["exports","react","history"],t):t((e=e||self).ReactRouter={},e.React,e.HistoryLibrary)}(this,(function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(!e)throw Error(t)}function a(e){var n=e.children;n=void 0===n?null:n;var r=e.history,a=void 0===(e=e.timeout)?2e3:e,o=t.useState(r.location);e=o[0];var i=o[1],c=(a=E({timeoutMs:a}))[0];return a=a[1],o=t.useRef(!1),t.useContext(R)&&u(!1),o.current||(o.current=!0,r.listen((function(e){var t=e.location;c((function(){i(t)}))}))),t.createElement(R.Provider,{children:n,value:{history:r,location:e,pending:a}})}function o(e){var n=[];return t.Children.forEach(e,(function(e){if(t.isValidElement(e)){var r=e.props,u=r.children,a=r.from,i=r.path;r=r.to,e.type===t.Fragment?n.push.apply(n,o(u)):(i=i||a||"/",r?e={path:i,redirectTo:r}:(e={path:i,element:e},(u=o(u)).length&&(e.children=u)),n.push(e))}})),n}function i(){return t.useContext(R).location}function c(){var e=t.useContext(R),n=e.history,r=e.pending,a=t.useContext(x).pathname;return null==n&&u(!1),t.useCallback((function(e,t){var u=void 0===t?{}:t;t=u.replace,u=u.state,"number"==typeof e?n.go(e):(e=m(e,a),n[t||r?"replace":"push"](e,u))}),[n,r,a])}function l(){return t.useContext(x).outlet}function s(e){var n=t.useContext(x).pathname;return t.useMemo((function(){return m(e,n)}),[e,n])}function f(e,n,u){void 0===n&&(n=""),void 0===u&&(u=!1);var a=t.useContext(x),o=a.params,l=a.pathname;if(a=a.route,y){var s=a&&a.path;y(l,!a||a.path.endsWith("*"),'You rendered descendant <Routes> (or called `useRoutes`) at "'+l+'" (under <Route path="'+s+'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="'+s+'"> to <Route path="'+s+'/*">.')}n=n?j([l,n]):l,a=c();var f=i();if(!(s=t.useMemo((function(){return h(e,f,n,u)}),[e,f,n,u])))return null;var p=s.find((function(e){return null!=e.route.redirectTo}));return p?(s=p.params,p=(l=m(p.route.redirectTo,l)).pathname,/:\w+/.test(p)&&(l=r({},l,{pathname:g(p,s)})),a(l,{replace:!0}),null):s.reduceRight((function(e,u){var a=u.pathname,i=u.route;return t.createElement(x.Provider,{children:i.element,value:{outlet:e,params:r({},o,{},u.params),pathname:j([n,a]),route:i}})}),null)}function h(e,t,r,u){void 0===r&&(r=""),void 0===u&&(u=!1),"string"==typeof t&&(t=n.parsePath(t)),r=r.replace(/^\/+|\/+$/g,"");var a=t.pathname.slice(1);if(r)if(r===a)a="";else{if(!a.startsWith(r))return null;a=a.slice(r.length).replace(/^\/+/,"")}var o=function e(t,n,r,u,a){return void 0===n&&(n=[]),void 0===r&&(r=""),void 0===u&&(u=[]),void 0===a&&(a=[]),t.forEach((function(t,o){var i=j([r,t.path]),c=u.concat(t);o=a.concat(o),n.push([i,c,o]),t.children&&e(t.children,n,i,c,o)})),n}(e);for(function(e){var t=e.reduce((function(e,t){return e[t=t[0]]=function(e){var t=(e=e.split("/")).length;return e.some(O)&&(t+=$),e.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(b.test(t)?w:""===t?M:P)}),t)}(t),e}),{});e.sort((function(e,n){var r=e[2];e=t[e[0]];var u=n[2];return e!==(n=t[n[0]])?n-e:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(r,u)}))}(o),e=function(e){var t=(e=o[e])[1];if(p(e[0],!0,u)[0].test(a))return{v:t.map((function(e,n){n=t.slice(0,n+1);var r=p(n=j(n.map((function(e){return e.path}))),!1,u);return{params:v(n=r[1],(r=a.match(r[0])).slice(2)),pathname:"/"+r[1],route:e}}))}},t=0;t<o.length;++t)if("object"==typeof(r=e(t)))return r.v;return null}function p(e,t,n){var r=[],u="^("+e.replace(/^\/+/,"").replace(/\*\//g,"").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}))+")";return e.endsWith("*")?(e.endsWith("/*")&&(u+="\\/?"),r.push("*"),u+="(.*)"):t&&(u+="\\/?"),t&&(u+="$"),[new RegExp(u,n?void 0:"i"),r]}function v(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function d(e,t){var n=t.replace(/\/+$/,"").replace(/\/\/+/g,"/").split("/");return e.replace(/\/\/+/g,"/").split("/").forEach((function(e){".."===e?1<n.length&&n.pop():"."!==e&&n.push(e)})),1<n.length?j(n):"/"}function m(e,t){void 0===t&&(t="/");var r="string"==typeof e?n.parsePath(e):e;e=r.pathname;var u=r.search;return u=void 0===u?"":u,r=void 0===(r=r.hash)?"":r,{pathname:e?e.startsWith("/")?d(e,"/"):d(e,t):t,search:u,hash:r}}function g(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(function(e,n){return t[n]||":"+n})).replace(/\*$/,(function(e){return t[e]||e}))}var y,R=(t=t&&t.hasOwnProperty("default")?t.default:t).createContext(),x=t.createContext({outlet:null,params:{},pathname:"",route:null}),C=function(e){return e()},E=t.useTransition||function(){return[C,!1]},b=/^:\w+$/,w=2,M=1,P=10,$=-2,O=function(e){return"*"===e},j=function(e){return e.join("/").replace(/\/\/+/g,"/")};e.MemoryRouter=function(e){var r=e.children,u=e.initialEntries,o=e.initialIndex;e=e.timeout;var i=t.useRef(null);return null==i.current&&(i.current=n.createMemoryHistory({initialEntries:u,initialIndex:o})),t.createElement(a,{children:r,history:i.current,timeout:e})},e.Navigate=function(e){var t=e.to,n=e.replace;return n=void 0!==n&&n,e=e.state,c()(t,{replace:n,state:e}),null},e.Outlet=function(){return l()},e.Redirect=function(){return null},e.Route=function(e){return e.element},e.Router=a,e.Routes=function(e){var t=e.basename;t=void 0===t?"":t;var n=e.caseSensitive;return n=void 0!==n&&n,f(e=o(e.children),t,n)},e.createRoutesFromChildren=o,e.generatePath=g,e.matchRoutes=h,e.resolveLocation=m,e.useBlocker=function(e,n){void 0===n&&(n=!0);var a=t.useContext(R).history;null==a&&u(!1),t.useEffect((function(){if(n){var t=a.block((function(n){var u=r({},n,{retry:function(){t(),n.retry()}});e(u)}));return t}}),[a,n,e])},e.useHref=function(e){e=s(e);var n=t.useContext(R).history;return null==n&&u(!1),n.createHref(e)},e.useLocation=i,e.useMatch=function(e){var t=i();return e=s(e),t.pathname===e.pathname},e.useNavigate=c,e.useOutlet=l,e.useParams=function(){return t.useContext(x).params},e.useResolvedLocation=s,e.useRouteMatch=function(e,n,u){void 0===n&&(n=""),void 0===u&&(u=!1);var a=t.useContext(x),o=a.params;a=a.pathname,n=n?j([a,n]):a;var c=i(),l=t.useMemo((function(){return h([{path:e,element:null,children:null}],c,n,u)}),[e,c,n,u]);return t.useMemo((function(){if(!l||!l[0])return null;var e=l[0],t=e.pathname;return{params:r({},o,{},e.params),pathname:j([n,t])}}),[n,l,o])},e.useRoutes=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-router.production.min.js.map
